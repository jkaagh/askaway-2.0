(this.webpackJsonpaskaway=this.webpackJsonpaskaway||[]).push([[0],{125:function(e,t,a){},126:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),o=a(19),c=a.n(o),r=a(6),i=a(5),d=a(26),l=a.n(d),u=a(66),j=a(12),b=a.n(j),h=a(1);function m(){var e,t=Object(r.f)(),a=Object(s.useState)(),n=Object(i.a)(a,2),o=n[0],c=n[1];Object(s.useEffect)((function(){return void 0===(e=b.a.load("PreviousRoom"))?null:(c(Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("p",{className:"mt-4 mb-0",children:["It looks like you already created room ",e]}),Object(h.jsxs)("button",{onClick:d,className:"btn btn-link alert-link",children:["Join ",e]})]})})),Object(h.jsx)("div",{className:"bg-danger",children:"ass"}))}),[]);var d=function(){t.push("/host/"+e)};return Object(h.jsx)("div",{children:o})}function O(){var e=Object(r.f)(),t=Object(s.useState)(),a=Object(i.a)(t,2),n=a[0],o=a[1],c=Object(s.useState)("Or create a room..."),d=Object(i.a)(c,2),j=d[0],O=d[1],x=Object(s.useState)("Join"),p=Object(i.a)(x,2),f=p[0],y=p[1],v=Object(s.useState)(),w=Object(i.a)(v,2),k=w[0],N=w[1],g=Object(s.useState)(),I=Object(i.a)(g,2),S=I[0],C=I[1];Object(s.useEffect)((function(){var e=function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),q())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}));var q=function(){y("Loading...");var t=b.a.load("userPassword"+n);l.a.post("http://localhost:3001/joinroom",{captcha:k,existingPassword:t,room:n}).then((function(t){if(!1===t.data.success&&(C(t.data.msg),y("Join"),"ass"==k&&window.location.reload()),N("ass"),console.log(t.data),void 0!==t.data.newPassword){var a=new Date,s=a.getTime();a=new Date(s+864e5),document.cookie="userPassword"+t.data.roomId+"="+t.data.newPassword+"; expires="+a,document.cookie="userId"+t.data.roomId+"="+t.data.userId+"; expires="+a}!0===t.data.success&&e.push("/room/"+t.data.roomId)}))};return Object(h.jsxs)("div",{className:"container text-center ",children:[Object(h.jsxs)("div",{className:"container pb-4",children:[Object(h.jsx)("h1",{className:"display-3 d-none d-sm-inline text-wrap",children:"Askaway"}),Object(h.jsx)("h1",{className:"display-4 d-sm-none text-wrap",children:"Askaway"}),Object(h.jsx)("h4",{className:"",children:"The free service that lets you ask anonymous questions live."}),Object(h.jsx)("a",{href:"readmore",id:"",className:"alert-link",children:"Read more"})]}),Object(h.jsxs)("div",{className:"container w-sm-50",children:[Object(h.jsx)("input",{onChange:function(e){return t=e.target.value,void o(t.toUpperCase());var t},value:n,id:"codeInput",className:"form-control text-center customInput",type:"text",placeholder:"Type room code here to join",name:"askawayInput"}),Object(h.jsx)("div",{className:"container d-flex flex-wrap justify-content-center mt-4",children:Object(h.jsx)(u.a,{sitekey:"6LdqX4saAAAAAC3Cie6ilnn6ujzvKuiMm2tjYeWG",onChange:function(e){N(e)}})}),Object(h.jsx)("span",{className:"text-danger d-block",children:S}),Object(h.jsx)("button",{onClick:q,className:" btn btn-primary px-4 m-4 customButton",children:f})]}),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("button",{onClick:function(){O("Loading..."),l.a.post("http://localhost:3001/createroom",{captcha:k}).then((function(t){if(!1===t.data.success&&(C(t.data.msg),console.log(t.data),O("Or create a room...  "),"ass"==k&&window.location.reload()),N("ass"),!0===t.data.roomCreated){var a=new Date,s=a.getTime();a=new Date(s+864e5),document.cookie="adminPassword"+t.data.roomId+"="+t.data.adminPassword+"; expires="+a,document.cookie="PreviousRoom="+t.data.roomId+"; expires="+a,e.push("/host/"+t.data.roomId)}console.log(t.data)}))},className:"btn btn-link alert-link ",children:j})}),Object(h.jsx)(m,{})]})}var x=a(32);function p(e){var t=Object(s.useState)(e.match.params.id),a=Object(i.a)(t,1)[0],n=Object(s.useState)(),o=Object(i.a)(n,2),c=o[0],r=o[1],d=Object(s.useState)(""),l=Object(i.a)(d,2),u=l[0],j=l[1],m=Object(s.useState)(""),O=Object(i.a)(m,2),p=O[0],f=O[1],y=Object(s.useState)(""),v=Object(i.a)(y,2),w=v[0],k=v[1],N=Object(s.useState)(!0),g=Object(i.a)(N,2),I=g[0],S=g[1];Object(s.useEffect)((function(){r(b.a.load("userId"+a)),console.log(e)}),[]),Object(s.useEffect)((function(){var e=function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),q())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}));var C=Object(s.useRef)();Object(s.useEffect)((function(){C.current=x.io.connect("http://localhost:3001"),C.current.on("RoomMessage",(function(e){var t=e.msg,a=e.success;!1===a?(k("text-danger d-block"),j(t)):(f(""),k("text-primary d-block"),j(t)),console.log(a,t)}))}),[]);var q=function(){if(!I)return k("text-danger d-block"),void j("You can't post more than once every 3 seconds.");S(!1),setTimeout((function(){S(!0)}),3e3);var e=b.a.load("userPassword"+a);console.log(e),C.current.emit("postQuestion",{password:e,roomId:a,question:p})};return Object(h.jsx)("div",{className:"container text-center",id:"QuestionsContainer",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("h3",{className:"pt-4",children:["Room Code: ",a]}),Object(h.jsxs)("h4",{className:"pb-4",children:["Your ID: ",c]}),Object(h.jsx)("textarea",{onChange:function(e){return f(e.target.value)},value:p,type:"text",rows:"5",maxLength:"200",className:"customInput form-control ",placeholder:"Type your question here","aria-label":"","aria-describedby":"basic-addon1>"}),Object(h.jsx)("span",{className:w,children:u}),Object(h.jsx)("button",{onClick:q,id:"btnAskQuestion",className:"btn btn-outline-primary mt-3 px-4",type:"button",children:"Ask away!"})]})})}var f=a(67),y=a.p+"static/media/hammer.a1387783.svg",v=a(21),w=a(40);function k(e){var t=Object(s.useState)(e.match.params.id),a=Object(i.a)(t,1)[0],n=Object(s.useState)([]),o=Object(i.a)(n,2),c=o[0],r=o[1],d=Object(s.useState)(""),u=Object(i.a)(d,2),j=u[0],m=u[1],O=Object(s.useState)(""),p=Object(i.a)(O,2),k=p[0],N=p[1],g=Object(s.useState)(),I=Object(i.a)(g,2),S=I[0],C=I[1],q=Object(s.useRef)();Object(s.useEffect)((function(){q.current=x.io.connect("http://localhost:3001"),q.current.emit("adminValidate",{password:b.a.load("adminPassword"+a),roomId:a}),q.current.on("message",(function(e){e.success;var t=e.msg;m(t),N("text-danger d-block")})),q.current.on("QuestionList",(function(e){var t=e.questionList;console.log(t),r(t)})),q.current.on("SingleQuestion",(function(e){var t={question:e.question,userId:e.userId};r((function(e){return[].concat(Object(f.a)(e),[t])}))}))}),[]);var A=Object(s.useState)(!1),E=Object(i.a)(A,2),T=E[0],P=E[1],D=function(){return P(!1)},L=function(){return P(!0)};return Object(h.jsx)("div",{className:"container ",id:"QuestionsContainer",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("h3",{className:"pt-4 text-center ",children:["Room Code: ",e.match.params.id]}),Object(h.jsx)("table",{className:"table table-striped table-bordered text-left customTable",children:Object(h.jsxs)("tbody",{id:"tableBody",children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"text-center",width:"50px",children:"#"}),Object(h.jsx)("th",{className:"text-center",width:"50px",children:"ID"}),Object(h.jsx)("th",{className:"px-3",children:"Question"}),Object(h.jsx)("th",{className:"text-center",width:"50px",children:"Ban"})]}),c&&c.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{className:"text-center",children:[" ",t+1]}),Object(h.jsx)("td",{className:"text-center",children:e.userId}),Object(h.jsx)("td",{className:"text-left px-3",children:e.question}),Object(h.jsx)("td",{onClick:function(){return t=e.userId,C(t),void L();var t},className:"text-center",children:Object(h.jsx)("div",{children:Object(h.jsx)("img",{alt:"ban user",src:y})})})]},t)}))]})}),Object(h.jsx)("div",{className:"text-center",children:Object(h.jsx)("span",{className:k,children:j})}),Object(h.jsxs)(v.a,{show:T,onHide:D,children:[Object(h.jsx)(v.a.Header,{closeButton:!0,children:Object(h.jsx)(v.a.Title,{children:"Ban user?"})}),Object(h.jsxs)(v.a.Body,{children:["Are you sure you want to ban user '",S,"'? You will not recieve any questions and the user will not be notified. ",Object(h.jsx)("b",{children:"This cannot be undone."})]}),Object(h.jsxs)(v.a.Footer,{children:[Object(h.jsx)(w.a,{variant:"danger",onClick:function(){D(),console.log(S),l.a.post("http://localhost:3001/banuser/",{password:b.a.load("adminPassword"+a),userId:S,roomId:a}).then((function(e){console.log(e),console.log(c),q.current.emit("adminValidate",{password:b.a.load("adminPassword"+a),roomId:a})}))},children:"Confirm"}),Object(h.jsx)(w.a,{variant:"primary",onClick:D,children:"Cancel"})]})]})]})})}a(125);function N(){return Object(h.jsxs)("div",{className:"container text-center",children:[Object(h.jsx)("h1",{className:"display-4",children:"What is Askaway?"}),Object(h.jsx)("p",{className:"readmoreText d-none d-sm-block",children:"Askaway is a free to use service that lets you create your own room for everyone to ask you questions anonymously."}),Object(h.jsx)("p",{className:"d-sm-none",children:"Askaway is a free to use service that lets you create your own room for everyone to ask you questions anonymously."}),Object(h.jsx)("h5",{children:"But why?"}),Object(h.jsxs)("p",{className:"readmoreText d-none d-sm-block",children:["Say you're hosting a presentation or a conference. Instead of everyone having to interrupt you with their questions, they just send them via Askaway, and you can easily view them whenever you see fit. This way they wont forget their questions, and those who are uncomfortable speaking up can also ask.",Object(h.jsx)("br",{}),Object(h.jsx)("br",{})," Each person has their own unique ID, in case anyone wants to be anonymous. ",Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{})]}),Object(h.jsxs)("p",{className:"d-sm-none",children:["Say you're hosting a presentation or a conference. Instead of everyone having to interrupt you with their questions, they just send them via Askaway, and you can easily view them whenever you see fit. This way they wont forget their questions, and those who are uncomfortable speaking up can also ask.",Object(h.jsx)("br",{}),Object(h.jsx)("br",{})," Each person has their own unique ID, in case anyone wants to be anonymous. ",Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{})]}),Object(h.jsx)("h5",{children:"What about spammers or trolls?"}),Object(h.jsx)("p",{className:"readmoreText d-none d-sm-block",children:"As a room host, you have the ability to shadowban people. This means you won't see any of their questions, and they won't know they're banned."}),Object(h.jsx)("p",{className:"d-sm-none"})]})}var g=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(r.c,{children:[Object(h.jsx)(r.a,{exact:!0,path:"/",component:O}),Object(h.jsx)(r.a,{path:"/room/:id",component:p}),Object(h.jsx)(r.a,{path:"/host/:id",component:k}),Object(h.jsx)(r.a,{path:"/readmore/",component:N})]})})},I=a(24);c.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(I.a,{children:Object(h.jsx)(g,{})})}),document.getElementById("root"))}},[[126,1,2]]]);
//# sourceMappingURL=main.f4a4548b.chunk.js.map